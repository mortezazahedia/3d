{% extends "base.html" %}

{% block contents%}

<div class="row">
    <div class="col-lg-8 col-md-10 mx-auto">

        <div class="media">
            <img class="align-self-end mr-3" src="{{ url_for('static', filename='media/profile_pics/'+current_user.profile_pic ) }}"
                 alt="Generic placeholder image">
            <div class="media-body">
                <h5 class="mt-0"> Account Details</h5>
                <p> Welcome {{ current_user.name }} </p>

            </div>
        </div>

        <form method="POST" action="#" enctype="multipart/form-data">
            {{ form.csrf_token }} <br/>

            <p>
                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
            <ul class=flashes>
                {% for category, message in messages %}
                <div class="alert alert-{{ category }}" role="alert">
                    <li>{{ message }}</li>
                </div>
                {% endfor %}
            </ul>
            {% endif %}
            {% endwith %}
            </p>

            <div class="row justify-content-center">

                <div class="form-group row">
                    <label for="name" class="col-sm-2 col-form-label">{{ form.name.label }}</label>
                    <div class="col-sm-10">
                        {{ form.name(size=20, class="form-control") }}
                        {% for error in form.name.errors %}
                        <span class="error-message">{{ error }}</span>
                        <hr/>
                        {% endfor %}
                    </div>
                </div>

                <div class="form-group row">
                    <label for="age" class="col-sm-2 col-form-label">{{ form.age.label }}</label>
                    <div class="col-sm-10">
                        {{ form.age(size=20, class="form-control") }}
                        {% for error in form.age.errors %}
                        <span class="error-message">{{ error }}</span>
                        <hr/>
                        {% endfor %}
                    </div>
                </div>

                <div class="form-group row">
                    <label for="email" class="col-sm-2 col-form-label">{{ form.email.label }}</label>
                    <div class="col-sm-10">
                        {{ form.email(size=20, class="form-control") }}
                        {% for error in form.email.errors %}
                        <span class="error-message">{{ error }}</span>
                        <hr/>
                        {% endfor %}
                    </div>
                </div>

                <div class="form-group row">
                    <label for="profile_pic" class="col-sm-2 col-form-label">{{ form.profile_pic.label }}</label>
                    <div class="col-sm-10">
                        {{ form.profile_pic() }}
                        {% for error in form.profile_pic.errors %}
                        <span class="error-message">{{ error }}</span>
                        <hr/>
                        {% endfor %}
                    </div>
                </div>

                <div class="form-group row">
                    <label for="gender" class="col-sm-2 col-form-label">{{ form.gender.label }}</label>
                    <div class="col-sm-10">
                        {{ form.gender(class="form-select") }}
                    </div>
                </div>

                <div class="form-group row">
                    <div class="col-sm-10 offset-sm-2">
                        {{ form.submit() }}
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

{% endblock contents%}